<html>
<head>
    <title>Agenda</title>
</head>
<body>
    <h1>Editar agendamento</h1>
    <span><a href="/">Início</a></span>
    <form th:action="@{/agenda/editar}" method="post" th:object="${editarAgendamentoRequest}">
        <input type="hidden" th:field="*{id}"/>
        <label for="cliente">
            <span>Cliente</span>
            <input id="cliente" th:field="{cliente}" type="text" required>
        </label>
        <label for="data">
            <span>Data</span>
            <input id="data" th:field="{data}" type="text" required>
        </label>
        <label for="horario">
            <span>Horário</span>
            <input id="horario" th:field="{horario}" type="text" required>
        </label>
        <label for="procedimento">
            <span>Procedimento</span>
            <input id="procedimento" th:field="{procedimento}" type="text" required>
        </label>
        <div>
            <a href="/agenda">Cancelar</a>
            <button type="button" onclick="document.getElementById('dialog-delete').showModal()">Excluir</button>
            <button type="submit">Salvar alteração</button>
        </div>
    </form>
    <form>
        <dialog id="dialog-delete" class="modal">
            <div class="modal-box">
                <h3>Excluir agendamento</h3>
                <p>Tem certeza que deseja excluir esse agendamento?</p>
                <div class="modal-action">
                    <form method="dialog">
                        <button class="btn">Cancelar</button>
                    </form>
                    <form th:action="@{/agenda/{id}(id=*{id})}" method="post">
                        <input type="hidden" name="_method" value="DELETE"/>
                        <button type="submit">Sim, excluir</button>
                    </form>
                </div>
            </div>
        </dialog>
    </form>
    <div th:if="${erro}">
        <p th:text="${erro}"></p>
    </div>
</body>
</html>